<!--
 * @Author: George Zhao
 * @Date: 2020-09-24 19:32:44
 * @LastEditors: George Zhao
 * @LastEditTime: 2021-04-15 13:09:29
 * @Description: 
 * @Email: 2018221138@email.szu.edu.cn
 * @Company: SZU
 * @Version: 1.0
-->
<html>

<head>
  <title>LineAndArrow</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="theme-color" content="#1e1e1e" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <meta name="format-detection" content="telephone=no" />
  <style></style>
</head>

<body>
  <center>
    <div class="main">
      <form action="LineAndArrow" method="GET">
        <div>
          <table border="2" style="width: 88%; height: 88%; table-layout: auto;">
            <caption>
              <h1>LineAndArrow<a href="https://github.com/CreatorZZY/LineAndArrow" target="_blank"
                  rel="noreferrer noopener nofollow"><img
                    src="https://img.shields.io/static/v1?style=social&amp;label=star&amp;message=%E2%9C%B0&amp;logo=GitHub"
                    alt=""></a></h1>
            </caption>
            <tr>
              <th id="inputtitle">Input Box</th>
              <th id="resulttitle">
                Result Preview
              </th>
            </tr>
            <tr style="width: 100%; height: 100%;">
              <td>
                <div style="width: 100%; height: 100%;">
                  <center>
                    <textarea style="width: 100%; height: 100%; resize: vertical;" id="rdata"
                      onblur="submit_and_('0')"></textarea>
                  </center>
                </div>
              </td>
              <td rowspan="8">
                <iframe style="height: 100%; width: 100%;" src="" id="resultBox">
                </iframe>
              </td>
            </tr>
            <tr>
              <td>
                <div>
                  <center>
                    <input type="button" value="Submit" tabindex="3" onclick="submit_and_('0')" />
                  </center>
                </div>
              </td>
            </tr>
            <tr>
              <td>
                <div>
                  <center>
                    <input type="button" value="Save Svg" tabindex="4" onclick="submit_and_('1')" />
                  </center>
                </div>
              </td>
            </tr>
            <tr>
              <td>
                <div>
                  <center>
                    <input type="button" value="Clean" tabindex="5" onclick="clean_result()" />
                  </center>
                </div>
              </td>
            </tr>
          </table>
        </div>
      </form>
    </div>
  </center>
  <script>
    function submit_and_(d) {
      if (document.getElementById("rdata").value == "") {
        return;
      }
      iframe_refeash(
        "LineAndArrow?D=" +
        d +
        "&Data=" +
        window.btoa(document.getElementById("rdata").value)
      );
      document.getElementById("inputtitle").style =
        "background-color: #366e9c;";
      document.getElementById("resulttitle").style =
        "background-color: #366e9c;";
      setInterval(function () {
        document.getElementById("inputtitle").style = "";
        document.getElementById("resulttitle").style = "";
      }, 500);
    }

    function clean_result() {
      document.getElementById("rdata").value = "";
      iframe_refeash("");
    }

    function iframe_refeash(_url) {
      document.getElementById("resultBox").src = _url;
    }
  </script>
</body>

</html>